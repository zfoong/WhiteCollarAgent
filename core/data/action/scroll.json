{
  "_id": {
    "$oid": "688dd58912c6041305c2b1d8"
  },
  "name": "scroll",
  "description": "Scrolls the active window one viewport up or down (â‰ˆ90 % of the screen height, leaving ~10 % overlap).",
  "type": "atomic",
  "execution_mode": "sandboxed",
  "mode": "GUI",
  "input_schema": {
    "direction": {
      "type": "string",
      "enum": [
        "up",
        "down"
      ],
      "example": "down",
      "description": "Scroll direction."
    }
  },
  "output_schema": {
    "status": {
      "type": "string",
      "example": "success",
      "description": "'success' if scrolling succeeded, 'error' otherwise."
    },
    "message": {
      "type": "string",
      "example": "Invalid direction.",
      "description": "Optional error message if the operation failed."
    }
  },
  "subActions": [],
  "default": false,
  "scope": [
    "global"
  ],
  "code": "import json, sys, subprocess, importlib\npkg = 'pyautogui'\ntry:\n    importlib.import_module(pkg)\nexcept ImportError:\n    subprocess.check_call([sys.executable, '-m', 'pip', 'install', pkg, '--quiet'])\nimport pyautogui\n\ndirection = str(input_data.get('direction', '')).lower()\nif direction not in {'up', 'down'}:\n    output = json.dumps({'status': 'error', 'message': 'direction must be \"up\" or \"down\".'})\n    exit()\n\nscroll_amount = int(pyautogui.size().height * 0.9)\nscroll_amount = scroll_amount if direction == 'up' else -scroll_amount\n\ntry:\n    pyautogui.scroll(scroll_amount)\n    output = json.dumps({'status': 'success', 'message': ''})\nexcept Exception as e:\n    output = json.dumps({'status': 'error', 'message': str(e)})"
}
