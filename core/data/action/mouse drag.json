{
    "_id": {
        "$oid": "688ddd1012c6041305c2b1dc"
    },
    "name": "mouse drag",
    "description": "Performs a left-button drag from a start coordinate to an end coordinate.",
    "type": "atomic",
    "execution_mode": "sandboxed",
    "mode": "GUI",
    "input_schema": {
        "start_x": {
            "type": "integer",
            "example": 400,
            "description": "Starting X-coordinate in pixels (required)."
        },
        "start_y": {
            "type": "integer",
            "example": 300,
            "description": "Starting Y-coordinate in pixels (required)."
        },
        "end_x": {
            "type": "integer",
            "example": 800,
            "description": "Ending X-coordinate in pixels (required)."
        },
        "end_y": {
            "type": "integer",
            "example": 600,
            "description": "Ending Y-coordinate in pixels (required)."
        },
        "duration": {
            "type": "number",
            "example": 0.5,
            "description": "Optional duration (seconds) for a smooth drag."
        }
    },
    "output_schema": {
        "status": {
            "type": "string",
            "example": "success",
            "description": "'success' if the drag completed, 'error' otherwise."
        },
        "message": {
            "type": "string",
            "example": "Missing coordinates.",
            "description": "Optional error message."
        }
    },
    "subActions": [
    ],
    "default": false,
  "scope": [
    "global"
  ],
  "code": "import json, sys, subprocess, importlib\npkg = 'pyautogui'\ntry:\n    importlib.import_module(pkg)\nexcept ImportError:\n    subprocess.check_call([sys.executable, '-m', 'pip', 'install', pkg, '--quiet'])\nimport pyautogui\nsx = input_data.get('start_x')\nsy = input_data.get('start_y')\nex = input_data.get('end_x')\ney = input_data.get('end_y')\nduration = float(input_data.get('duration', 0))\nif None in (sx, sy, ex, ey):\n    output = json.dumps({'status': 'error', 'message': 'All coordinates are required.'})\n    exit()\ntry:\n    pyautogui.moveTo(int(sx), int(sy))\n    pyautogui.mouseDown(button='left')\n    pyautogui.dragTo(int(ex), int(ey), duration=duration, button='left')\n    pyautogui.mouseUp(button='left')\n    output = json.dumps({'status': 'success', 'message': ''})\nexcept Exception as e:\n    output = json.dumps({'status': 'error', 'message': str(e)})"
}
