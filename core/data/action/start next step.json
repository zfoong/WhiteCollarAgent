{
  "_id": {
    "$oid": "68f3aa223e69ff6dce99b9ae"
  },
  "name": "start next step",
  "description": "Advance the running workflow to the NEXT step for this session. If update_plan is true, first update the plan (e.g., when the old plan is outdated or new info is available) and then advance to the next step, which may be newly created by the updated plan.",
  "type": "atomic",
  "execution_mode": "internal",
  "code": "import json, asyncio\nimport core.internal_action_interface as iai\n\nupdate_plan = bool(input_data.get('update_plan', False))\nres = asyncio.run(iai.InternalActionInterface.start_next_step(update_plan=update_plan))\noutput = json.dumps(res)",
  "input_schema": {
    "update_plan": {
      "type": "boolean",
      "example": true,
      "description": "When true, ask the planner to update the plan and advance; otherwise advance to the next existing step."
    }
  },
  "output_schema": {
    "status": {
      "type": "string",
      "example": "ok",
      "description": "Indicates the action executed; see 'result' for queueing/completion status."
    },
    "workflow_id": {
      "type": "string",
      "example": "user_request_1_abc123",
      "description": "The session/workflow id affected."
    },
    "result": {
      "type": "object",
      "example": {
        "status": "queued",
        "step": "gather sources"
      },
      "description": "Result from WorkflowManager.start_next_step (e.g., queued, no_next_step, completed)."
    }
  },
  "subActions": [],
  "default": true,
  "scope": [
    "global"
  ],
  "mode": "CLI"
}
