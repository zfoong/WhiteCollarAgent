{
  "_id": {
    "$oid": "684240de0dceb231ab654954"
  },
  "name": "send message",
  "description": "Use this action to deliver a detailed text update that will be recorded in the conversation log and event stream. Avoid revealing internal or sensitive information and do not mention conversation identifiers. This action does not perform work; it only communicates status to the user.",
  "type": "atomic",
  "execution_mode": "internal",
  "mode": "ALL",
  "code": "import json; import asyncio; import core.internal_action_interface as internal_action_interface; message = input_data['message']; wait_for_user_reply = bool(input_data.get('wait_for_user_reply', False)); asyncio.run(internal_action_interface.InternalActionInterface.do_chat(message)); fire_at_delay = 10800 if wait_for_user_reply else 0; output = json.dumps({'status': 'ok', 'message': message, 'fire_at_delay': fire_at_delay})",
  "input_schema": {
    "message": {
      "type": "string",
      "example": "Hello, user!",
      "description": "The chat message to send. Send message in terminal friendly format and DO NOT include mark down."
    },
    "wait_for_user_reply": {
      "type": "boolean",
      "example": true,
      "description": "True if this action require user's response to proceed. For example, true if you ask a question in the message."
    }
  },
  "output_schema": {
    "status": {
      "type": "string",
      "example": "ok",
      "description": "Indicates the action completed successfully."
    },
    "message": {
      "type": "string",
      "example": "Hello, user!",
      "description": "The message that was sent to the user."
    },
    "fire_at_delay": {
      "type": "number",
      "example": 10800,
      "description": "Delay in seconds before the next follow-up action should be scheduled. 10800 seconds (3 hours) if wait_for_user_reply is true, otherwise 0."
    }
  },
  "subActions": [],
  "default": true,
  "scope": [
    "global"
  ]
}
